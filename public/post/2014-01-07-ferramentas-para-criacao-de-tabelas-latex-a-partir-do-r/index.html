<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />

  <title>Ferramentas para criação de tabelas LaTex a partir do R &middot; Dados Aleatórios</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>Sobre</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/contact/"><i class='fa fa-phone fa-fw'></i>Contato</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/dadosaleatorios" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/dadosaleatorios" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://instagram.com/*" target="_blank"><i class="fa fa-instagram fa-fw"></i>Instagram</a>
    </li>
    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/*" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/dadosaleatorios" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://stackoverflow.com/users/*" target="_blank"><i class="fa fa-stack-overflow fa-fw"></i>Stack Overflow</a>
    </li>
    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Ferramentas para criação de tabelas LaTex a partir do R</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>07 Jan 2014, 00:00</time>
  </div>

  

  

  

</div>

  <p>Sair do ambiente R para exportar resultados e tabelas nem sempre é uma tarefa fácil, em especial quando deseja-se exportar estes resultados para o ambiente LaTex. O motivo é simples de ser entendido, afinal nem nem sempre os resultados possuem uma estrutura simples e como acontece, as vezes este é demasiadamente grande. Neste post, vamos discutir algumas soluções para tornar esta tarefa mais simples e é claro, mais divertida. Além disso, vamos ilustrar exemplos da utilização de tais pacotes.</p>

<ul>
<li><a href="http://cran.r-project.org/web/packages/xtable/index.html"><strong>Pacote xtable</strong></a></li>
</ul>

<p>Provavelmente é o pacote mais utilizado para transformar objetos R em objetos LaTex ou HTML. Sua utilização é extremamente simples e o pacote possui basicamente uma única função, que é a função xtable e claramente, esta possui muitos argumentos. Consegue transformar dataframes, matrizes e suporta pelo menos as saídas das seguintes funções: lm, aov, anova, glm, prcomp e ts.</p>

<pre><code class="language-r"># xtable.R&lt;br&gt;&lt;/br&gt;xtable(mtcars) # imprimindo um dataframe no formato LaTex&lt;br&gt;&lt;/br&gt;ajuste = lm(hp~wt, data=mtcars)&lt;br&gt;&lt;/br&gt;ajuste_latex = xtable(ajuste)&lt;br&gt;&lt;/br&gt;print(ajuste_latex, type='latex')&lt;br&gt;&lt;/br&gt;
</code></pre>

<p>Uma descrição melhor do pacote pode ser achada <a href="http://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf">aqui</a>. A tabela a seguir exibe o output quando <em>type=&lsquo;html&rsquo;</em>.</p>

<table border="1" ><tbody ><tr > Estimate  Std. Error  t value  Pr(&gt |t|)   </tr><tr >
<td align="right" >(Intercept)
</td>
<td align="right" >-1.8209
</td>
<td align="right" >32.3246
</td>
<td align="right" >-0.06
</td>
<td align="right" >0.9555
</td> </tr><tr >
<td align="right" >wt
</td>
<td align="right" >46.1601
</td>
<td align="right" >9.6253
</td>
<td align="right" >4.80
</td>
<td align="right" >0.0000
</td> </tr></tbody></table>

<ul>
<li><a href="http://cran.r-project.org/web/packages/texreg/index.html"><strong>Pacote texreg</strong></a></li>
</ul>

<p>Este é um pacote que basicamente transforma saídas de modelos em objetos LaTex, HTML, markdown e doc. E mais do que isso, ele é capaz de gerar outputs com comparações entre modelos. Suporta cerca de 52 tipos diferentes de objetos, dentre eles lm, glm, lme, survreg, logit, weibreg e multinom.</p>

<p>Exemplo de utilização</p>

<pre><code class="language-r"># texreg.R&lt;br&gt;&lt;/br&gt;m1 = lm(hp~wt, data=mtcars)&lt;br&gt;&lt;/br&gt;m2 = lm(hp~wt-1, data=mtcars) # Sem intercepto&lt;br&gt;&lt;/br&gt;texreg(list(m1, m2))&lt;br&gt;&lt;/br&gt;
</code></pre>

<p>Uma quantidade arbitrária de modelos pode ser passado para a função texreg, desde que estejam dentro de uma lista. Caso selecione que o output seja um código HTML, o seguinte resultado será gerado. Uma descrição melhor do pacote pode ser encontrada <a href="http://cran.r-project.org/web/packages/texreg/vignettes/v55i08.pdf">aqui</a>.</p>

<table align="center" cellspacing="0" style="border:none;" >  Statistical models  <tbody ><tr >        **Model 1**    **Model 2**  </tr><tr >
<td style="border:none;padding-right:12px;" >(Intercept)
</td>
<td style="border:none;padding-right:12px;" >-1.82
</td>
<td style="border:none;padding-right:12px;" >
</td>  </tr><tr >
<td style="border:none;padding-right:12px;" >
</td>
<td style="border:none;padding-right:12px;" >(32.32)
</td>
<td style="border:none;padding-right:12px;" >
</td>  </tr><tr >
<td style="border:none;padding-right:12px;" >wt
</td>
<td style="border:none;padding-right:12px;" >46.16***
</td>
<td style="border:none;padding-right:12px;" >45.64***
</td>  </tr><tr >
<td style="border:none;padding-right:12px;" >
</td>
<td style="border:none;padding-right:12px;" >(9.63)
</td>
<td style="border:none;padding-right:12px;" >(2.72)
</td>  </tr><tr >
<td style="border-top:1px solid black;" >R2
</td>
<td style="border-top:1px solid black;" >0.43
</td>
<td style="border-top:1px solid black;" >0.90
</td>  </tr><tr >
<td style="border:none;padding-right:12px;" >Adj. R2
</td>
<td style="border:none;padding-right:12px;" >0.42
</td>
<td style="border:none;padding-right:12px;" >0.90
</td>  </tr><tr >
<td style="border-bottom:2px solid black;" >Num. obs.
</td>
<td style="border-bottom:2px solid black;" >32
</td>
<td style="border-bottom:2px solid black;" >32
</td>  </tr><tr >
<td colspan="3" style="border:none;padding-right:12px;" >***p < 0.001, **p < 0.01, *p < 0.05
</td>  </tr></tbody></table>

<ul>
<li><a href="http://cran.r-project.org/web/packages/Hmisc/index.html"><strong>Pacote Hmisc</strong></a></li>
</ul>

<p>Diferentemente dos pacotes citados anteriormente, este não foi feito com o único propósito de gerar tabelas em formato LaTex e html. Na verdade este pacote é um conjunto de funções úteis, desde cálculo de tamanho de amostra até manipulação de strings, e é claro que nesse meio não poderia faltar uma função para gerar tabelas LaTex. Outra funcionalidade interessante é o suporte ao longtable e a grande flexibilidade fornecida pelo pacote. Para maiores detalhes, <em>?latex</em>.</p>

<pre><code class="language-r"># Hmisc.R&lt;br&gt;&lt;/br&gt;latex(mtcars) # Vai gerar um arquivo no seu diretório de trabalho.&lt;br&gt;&lt;/br&gt;latexTabular(mtcars) # Imprime a tabela.&lt;br&gt;&lt;/br&gt;
</code></pre>

<ul>
<li><strong><a href="http://cran.r-project.org/web/packages/tables/">Pacote tables</a></strong></li>
</ul>

<p>Pacote criado com o objetivo de criar e exibir tabelas complexas com informações estatísticas. Na verdade o pacote em si não gera nenhum tipo de código LaTex, mas sim ajuda a criar tabelas com um design agradável. Para a criação do código LaTex, é necessário utilizar um dos outros pacotes descritos aqui.</p>

<pre><code class="language-r"># tables.R&lt;br&gt;&lt;/br&gt;formula = (as.factor(gear) + 1) ~ (n = 1) + (hp + wt) * (mean + sd)&lt;br&gt;&lt;/br&gt;tabular(formula, data = mtcars)&lt;br&gt;&lt;/br&gt;
</code></pre>

<p>Apesar de inicialmente a sintaxe parecer estranha, com o tempo dá para encará-la com mais naturalidade e parece que em parte foi influenciada pelo SAS PROC TABULATE. A criação das tabelas é dada por meio de fórmulas, por exemplo, aquelas mesmas fórmulas que são utilizadas em um modelo de regressão e então a função tabular parseia esta fórmula e cria a tabela desejada.</p>

<p>Agora é hora de vermos como a sintaxe funciona. A primeira coisa que devemos saber é: O que está antes do <strong>~</strong> serão as linhas e o que estiver depois  serão as colunas.</p>

<p>Para as linhas, estamos transformando a variável gears em um fator(deseja-se calcular média e desvio-padrão para cada quantidade de marchas do carro) e 1 nada mais significa que calcular as estatísticas para todas classes de _gear _, e nestes casos, o sinal de + tem o significado de concatenação.</p>

<p>Com as colunas a coisa não muda muito, e assim como acontecia com as linhas,  o sinal de + continua significando concatenação. A primeira coluna é correspondente a <em>n=1</em> e uma vez que nenhuma outra estatística foi atribuída, simplesmente irá retornar o número de casos de cada uma das  classes de <em>gear</em>. Para a segunda coluna, estamos falando que para as variáveis <em>hp</em> e <em>wt</em>, terão de ser aplicadas as funções <em>mean</em> e <em>sd</em>. Para cada classe de <em>gear</em>, calcule o número de observações, média e variância para as variáveis hp e <em>wt</em>. Aplicando a função que latex do pacote <em>Hmisc</em> o resultado será como segue abaixo. Uma descrição melhor do pacote pode ser encontrada <a href="http://cran.r-project.org/web/packages/tables/vignettes/tables.pdf">aqui</a>.</p>

<table rules="groups" style="margin:0 auto;width:500px;" ><tr class="center" >      hp  wt</tr><tr class="center" >  as.factor(gear)  n  mean  sd  mean  sd</tr><tbody ><tr class="center" >  3
<td >

15

</td>
<td >

176.1

</td>
<td >

47.69

</td>
<td >

3.893

</td>
<td >

0.8330

</td></tr><tr class="center" >  4
<td >

12

</td>
<td >

89.5

</td>
<td >

25.89

</td>
<td >

2.617

</td>
<td >

0.6327

</td></tr><tr class="center" >  5
<td >

5

</td>
<td >

195.6

</td>
<td >

102.83

</td>
<td >

2.633

</td>
<td >

0.8189

</td></tr><tr class="center" >  All
<td >

32

</td>
<td >

146.7

</td>
<td >

68.56

</td>
<td >

3.217

</td>
<td >

0.9785

</td></tr></tbody></table>

<ul>
<li><a href="http://cran.r-project.org/web/packages/reports/index.html"><strong>Pacote reporttools</strong></a></li>
</ul>

<p>Assim como o tables, este é um pacote que fornece facilidades na criação de tabelas com resultados de estatística descritiva.</p>

<pre><code class="language-r"># reporttools.R&lt;br&gt;&lt;/br&gt;variaveis = mtcars[, c('hp', 'wt')]&lt;br&gt;&lt;/br&gt;grupos = factor(mtcars$gear)&lt;br&gt;&lt;/br&gt;tableContinuous(vars=variaveis, group=grupos, pval=none )&lt;br&gt;&lt;/br&gt;
</code></pre>

<p>Por padrão, ele calcula uma série de estatísticas descritivas dependendo da função que você usa(tableContinuous, tableNominal ou tableDate) e caso queira calcular apenas uma ou outra estatística basta passar na chamada da função uma lista em que cada nó possui o nome da função a ser aplicada ao subconjunto de dados. E a saída é como algo mostrado na imagem abaixo.</p>

<p><img src="https://dadosaleatorios.files.wordpress.com/2014/01/cb497-reporttools.jpeg" alt="" /></p>

<p>Como podemos ver, a saída é algo bem parecido com a saída do tables, exceto o fato de a sintaxe aqui ser algo muito mais simples de ser entendida e reproduzida. Simplesmente são passadas as variáveis que se deseja obter as estatísticas, os grupos pelos quais serão estratificadas aquelas variáveis e a função a ser aplicada em cada um destes extratos. Uma descrição melhor do pacote pode ser encontrada <a href="http://cran.r-project.org/web/packages/reporttools/vignettes/reporttools.pdf">aqui</a>.
**
**
Introduzimos aqui uma série de pacotes certamente irão auxiliar na exportação dos resultados R para seus documentos LaTex e dependendo da situação, utilizar um ou outro pode ser uma experiência mais satisfatória. Se você tem um modelo de regressão, por exemplo, e quer inserí-lo em seu documento LaTex, o pacote pode ser uma ótima opção, ainda que o xtable seja muito prático. E é claro, as opções não se limitam as descritas aqui.</p>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="/post/2014-01-04-enviando-mensagens-automaticas-para-o-seu-amigo-oculto/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="/post/2014-01-04-enviando-mensagens-automaticas-para-o-seu-amigo-oculto/">Enviando mensagens automáticas para o seu amigo oculto</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/post/2014-01-14-entendendo-as-diferentes-mensagens-de-aviso-no-r/">Entendendo as diferentes mensagens de aviso no R</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/post/2014-01-14-entendendo-as-diferentes-mensagens-de-aviso-no-r/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="/js/ui.js"></script>






</body>
</html>

